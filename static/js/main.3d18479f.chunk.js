(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{206:function(t,e,n){},210:function(t,e,n){},211:function(t,e,n){},222:function(t,e,n){},250:function(t,e){},252:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),s=n(23),c=n.n(s),i=(n(203),n(162)),u=n(82),o=n(10),l=n.n(o),p=n(19),j=n(42),d=n(257),h=n(258),f=n(259),b=n(6),O=d.a.Option;var k=function(t){var e=t.onSubmit,n=t.onCancel,a=t.isModalVisible,s=Object(r.useState)(""),c=Object(j.a)(s,2),i=c[0],u=c[1],o=Object(r.useState)(""),l=Object(j.a)(o,2),p=l[0],k=l[1],x=Object(r.useState)("1"),v=Object(j.a)(x,2),m=v[0],y=v[1];return Object(b.jsxs)(h.a,{title:"New Task",visible:a,onOk:function(t){e({id:Math.floor(1e4*Math.random()),title:i,description:p,department:m}),u(""),k("")},onCancel:function(){u(""),n()},children:[Object(b.jsx)(f.a,{type:"text",placeholder:"title",id:"title",value:i,onChange:function(t){return u(t.target.value)},autoComplete:"off"}),Object(b.jsx)("div",{style:{height:10}}),Object(b.jsx)(f.a,{type:"text",placeholder:"description",id:"title",value:p,onChange:function(t){return k(t.target.value)},autoComplete:"off"}),Object(b.jsx)("div",{style:{height:10}}),Object(b.jsxs)(d.a,{onChange:function(t){y(t)},style:{width:"100%"},defaultValue:"1",children:[Object(b.jsx)(O,{value:"1",children:"Department 1"}),Object(b.jsx)(O,{value:"2",children:"Department 2"})]})]})};var x=n(57),v=(n(206),n(260)),m=n(98),y=n(59),g=n(262),w=n(261),S=n(256),T=n.p+"static/media/logo.55fa443c.jpg",C=n(22),D=n(255),I=n(51),A=function t(){Object(I.a)(this,t)};A.TodoStore="todoStore",A.TaskStore="taskStore",A.AuthStore="authStore";var P=Object(x.b)(A.TaskStore)(Object(x.c)((function(t){var e=Object(r.useState)(!1),n=Object(j.a)(e,2),a=n[0],s=n[1];function c(){return(c=Object(p.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),"0"!==n.key){e.next=8;break}return e.next=4,t.taskStore.resetData();case 4:return e.next=6,t.taskStore.getAll();case 6:e.next=9;break;case 8:"1"===n.key&&(localStorage.removeItem("TODOAPPJWTKEY"),s(!0));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var i=Object(b.jsxs)(v.a,{onClick:function(t){return c.apply(this,arguments)},children:[Object(b.jsx)(v.a.Item,{icon:Object(b.jsx)(D.a,{type:"delete"}),children:"Clear All Tasks"},"0"),Object(b.jsx)(v.a.Item,{icon:Object(b.jsx)(D.a,{type:"logout"}),children:"\xc7\u0131k\u0131\u015f Yap"},"1")]});return a?Object(b.jsx)(C.a,{to:"/login"}):Object(b.jsx)("div",{className:"header-container",children:Object(b.jsxs)(m.a,{children:[Object(b.jsx)(y.a,{span:12,style:{display:"flex",alignItems:"center"},children:Object(b.jsx)("h2",{style:{margin:0},children:"CompanyName"})}),Object(b.jsx)(y.a,{span:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(b.jsx)(g.a,{overlay:i,children:Object(b.jsxs)("div",{className:"user-container",children:[Object(b.jsx)("span",{children:t.name}),Object(b.jsx)(w.a,{size:40,src:Object(b.jsx)(S.a,{preview:!1,src:T})})]})})})]})})}))),E=(n(210),n(264)),N=n(56);var R=function(t){var e=t.myDepartmentId,n=t.taskData,r=(t.onEdit,t.onFinish),a=t.onReject;return Object(b.jsxs)(m.a,{className:"task-item",children:[Object(b.jsxs)(y.a,{span:12,children:[Object(b.jsx)("h3",{children:n.title}),Object(b.jsx)("span",{children:n.description})]}),Object(b.jsx)(y.a,{span:6,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:function(){switch(n.status){case 0:return Object(b.jsx)(E.a,{color:"gold",children:"Pending"});case 1:return Object(b.jsx)(E.a,{color:"green",children:"Completed"});case 2:return Object(b.jsx)(E.a,{color:"magenta",children:"Rejected"});default:return Object(b.jsx)(E.a,{color:"lime",children:"Loading..."})}}()}),Object(b.jsx)(y.a,{span:6,style:{display:"flex",justifyContent:"flex-end"},children:e===n.assignedDepartment?Object(b.jsxs)("div",{children:[Object(b.jsx)(N.a,{disabled:0!==n.status,onClick:function(){return a(n.id)},icon:Object(b.jsx)(D.a,{type:"delete"}),shape:"circle",danger:!0,style:{width:40,height:40,marginRight:10}}),Object(b.jsx)(N.a,{disabled:0!==n.status,icon:Object(b.jsx)(D.a,{type:"check"}),shape:"circle",onClick:function(){return r(n.id)},style:{width:40,height:40,backgroundColor:1===n.status?"rgba(183, 235, 143, 0.7)":"#fff"}})]}):null})]})},J=(n(211),n(161)),G=n(254),K=n(263),Y=J.a.TabPane;var F=Object(x.b)(A.TaskStore,A.AuthStore)(Object(x.c)((function(t){var e=Object(r.useState)(!1),n=Object(j.a)(e,2),a=n[0],s=n[1],c=Object(r.useState)(!0),i=Object(j.a)(c,2),u=i[0],o=i[1];function d(){return(d=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.taskStore.getAll();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.authStore.getSessionInformation();case 2:setTimeout((function(){o(!1)}),1500);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){h.apply(this,arguments)}(),function(){d.apply(this,arguments)}()}),[]);var f=function(){var e=Object(p.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.taskStore.create({title:n.title,description:n.description,assignedDepartment:+n.department});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function O(e){t.taskStore.selectTask(e)}function x(t){return v.apply(this,arguments)}function v(){return(v=Object(p.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.taskStore.rejectTask(n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(t){return y.apply(this,arguments)}function y(){return(y=Object(p.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.taskStore.completedTask(n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsxs)("div",{children:[Object(b.jsx)(P,{name:t.authStore.session.name}),Object(b.jsx)("div",{className:"taskList-container",children:Object(b.jsx)(K.a,{children:u?Object(b.jsx)("div",{style:{width:"100%",height:70,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)(G.a,{})}):Object(b.jsxs)(J.a,{defaultActiveKey:"1",children:[Object(b.jsx)(Y,{tab:"All Tasks",children:t.taskStore.tasks.map((function(e,n){return Object(b.jsx)(R,{onReject:x,onFinish:m,onEdit:O,myDepartmentId:t.authStore.session.department,taskData:e},"all-"+e.id)}))},"1"),Object(b.jsx)(Y,{tab:"Pending",children:t.taskStore.pendingTasks.map((function(e,n){return Object(b.jsx)(R,{onReject:x,onFinish:m,onEdit:O,myDepartmentId:t.authStore.session.department,taskData:e},"pending-"+e.id)}))},"2"),Object(b.jsx)(Y,{tab:"Completed",children:t.taskStore.completedTasks.map((function(e,n){return Object(b.jsx)(R,{onReject:x,onFinish:m,onEdit:O,myDepartmentId:t.authStore.session.department,taskData:e},"completed-"+e.id)}))},"3"),Object(b.jsx)(Y,{tab:"Rejected",children:t.taskStore.rejectedTasks.map((function(e,n){return Object(b.jsx)(R,{onReject:x,onFinish:m,onEdit:O,myDepartmentId:t.authStore.session.department,taskData:e},"rejected-"+e.id)}))},"4")]})})}),Object(b.jsx)("div",{className:"add-container",children:Object(b.jsx)(N.a,{onClick:function(){return s(!0)},style:{width:50,height:50},icon:Object(b.jsx)(D.a,{style:{fontSize:24},type:"plus"}),shape:"circle",type:"primary"})}),Object(b.jsx)(k,{isModalVisible:a,onCancel:function(){return s(!1)},onSubmit:f})]})})));n(222);var L=Object(x.b)(A.AuthStore)(Object(x.c)((function(t){var e=Object(r.useState)(""),n=Object(j.a)(e,2),a=n[0],s=n[1],c=Object(r.useState)(!1),i=Object(j.a)(c,2),u=i[0],o=i[1];function d(){return(d=Object(p.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.authStore.login({email:a});case 2:void 0!==(n=e.sent)&&(localStorage.setItem("TODOAPPJWTKEY",n.payload.jwtToken),o(!0));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u?Object(b.jsx)(C.a,{to:"/"}):Object(b.jsxs)("div",{className:"login",children:[Object(b.jsx)("div",{className:"login-triangle"}),Object(b.jsx)("h2",{className:"login-header",children:"Login"}),Object(b.jsxs)("div",{className:"login-container",children:[Object(b.jsx)("p",{children:Object(b.jsx)("input",{type:"email",onChange:function(t){return s(t.target.value)},value:a,placeholder:"Email"})}),Object(b.jsx)("p",{children:Object(b.jsx)("input",{type:"password",placeholder:"Password"})}),Object(b.jsx)("p",{children:Object(b.jsx)("input",{type:"submit",onClick:function(){return d.apply(this,arguments)},value:"Log in"})})]})]})}))),M=n(109),W=n(16),z=function t(){var e=this;Object(I.a)(this,t),this.testCounter=0,this.tasks=[],this.addCounter=Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.testCounter+=1;case 1:case"end":return t.stop()}}),t)}))),this.addTask=function(){var t=Object(p.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.tasks.push(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Object(W.l)(this)},V=n(196),B=n(71),q=n(191),U=n.n(q),H=n(240),Q=U.a.create({baseURL:"https://glacial-headland-22759.herokuapp.com/",timeout:3e4,paramsSerializer:function(t){return H.stringify(t,{encode:!1})}});Q.interceptors.request.use((function(t){var e=localStorage.getItem("TODOAPPJWTKEY");return void 0!==e&&null!==e&&(t.headers.common.Authorization="Bearer "+e),t}),(function(t){return Promise.reject(t)})),Q.interceptors.response.use((function(t){return t}),(function(t){}));var X=new(function(){function t(){Object(I.a)(this,t)}return Object(B.a)(t,[{key:"create",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.post("/api/task",e);case 2:if(void 0!==(n=t.sent)){t.next=5;break}return t.abrupt("return",n);case 5:return t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getAll",value:function(){var t=Object(p.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.get("/api/task");case 2:if(void 0!==(e=t.sent)){t.next=5;break}return t.abrupt("return",e);case 5:return t.abrupt("return",e.data);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"completedTask",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.get("/api/task/complete/"+e);case 2:if(void 0!==(n=t.sent)){t.next=5;break}return t.abrupt("return",n);case 5:return t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"rejectTask",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.get("/api/task/reject/"+e);case 2:if(void 0!==(n=t.sent)){t.next=5;break}return t.abrupt("return",n);case 5:return t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"resetData",value:function(){var t=Object(p.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.get("/api/task/reset-data/");case 2:if(void 0!==(e=t.sent)){t.next=5;break}return t.abrupt("return",e);case 5:return t.abrupt("return",e.data);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),t}()),Z=function(){function t(){var e=this;Object(I.a)(this,t),this.tasks=[],this.completedTasks=[],this.rejectedTasks=[],this.pendingTasks=[],this.selectedTask={id:0,title:"",description:"",status:0,assignedDepartment:0,user:{name:"",id:0}},this.addTask=function(t){e.tasks.push(t)},this.removeTask=function(t){var n=Object(V.a)(e.tasks).filter((function(e){return e.id!==t}));e.tasks=n},Object(W.l)(this)}return Object(B.a)(t,[{key:"resetData",value:function(){var t=Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.resetData();case 2:this.tasks=[],this.taskGroups();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"selectTask",value:function(t){var e=this.tasks.find((function(e){return e.id===t}));void 0!==e&&(this.selectTask=e)}},{key:"rejectTask",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.rejectTask(e);case 2:t.sent,-1!==(n=this.tasks.findIndex((function(t){return t.id===e})))&&((r=Array.from(this.tasks))[n].status=2,this.tasks=r),this.taskGroups();case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"completedTask",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.completedTask(e);case 2:t.sent,-1!==(n=this.tasks.findIndex((function(t){return t.id===e})))&&((r=Array.from(this.tasks))[n].status=1,this.tasks=r),this.taskGroups();case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"create",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.create(e);case 2:void 0!==(n=t.sent)&&this.tasks.push(n.payload),this.taskGroups();case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getAll",value:function(){var t=Object(p.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.getAll();case 2:void 0!==(e=t.sent)&&(this.tasks=e.payload,console.log(e.pasyload)),this.taskGroups();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"taskGroups",value:function(){var t=this;this.completedTasks=[],this.rejectedTasks=[],this.pendingTasks=[],this.tasks.forEach((function(e){switch(e.status){case 0:t.pendingTasks.push(e);break;case 1:t.completedTasks.push(e);break;case 2:t.rejectedTasks.push(e)}}))}}]),t}(),$=new(function(){function t(){Object(I.a)(this,t)}return Object(B.a)(t,[{key:"login",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.post("/api/auth/login",e);case 2:if(void 0!==(n=t.sent)){t.next=5;break}return t.abrupt("return",n);case 5:return t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getSessionInformation",value:function(){var t=Object(p.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.get("/api/auth/me");case 2:if(void 0!==(e=t.sent)){t.next=5;break}return t.abrupt("return",e);case 5:return t.abrupt("return",e.data);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),t}()),_=function(){function t(){Object(I.a)(this,t),this.session={department:0,email:"",id:0,name:"",title:""},Object(W.l)(this)}return Object(B.a)(t,[{key:"login",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.login(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getSessionInformation",value:function(){var t=Object(p.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.getSessionInformation();case 2:void 0!==(e=t.sent)&&(this.session=e.payload);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}();var tt=["children"],et=["children"];function nt(t){var e=t.children,n=Object(i.a)(t,tt);return Object(b.jsx)(C.b,Object(u.a)(Object(u.a)({},n),{},{render:function(){return null!==localStorage.getItem("TODOAPPJWTKEY")?e:Object(b.jsx)(C.a,{to:"/login"})}}))}function rt(t){var e=t.children,n=Object(i.a)(t,et);return Object(b.jsx)(C.b,Object(u.a)(Object(u.a)({},n),{},{render:function(){return null===localStorage.getItem("TODOAPPJWTKEY")?e:Object(b.jsx)(C.a,{to:"/"})}}))}var at=function(){var t={todoStore:new z,taskStore:new Z,authStore:new _};return Object(b.jsx)(x.a,Object(u.a)(Object(u.a)({},t),{},{children:Object(b.jsx)(M.a,{children:Object(b.jsxs)(C.d,{children:[Object(b.jsx)(rt,{path:"/login",children:Object(b.jsx)(L,{})}),Object(b.jsx)(nt,{path:"/",children:Object(b.jsx)(F,{})})]})})}))};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(at,{})}),document.getElementById("root"))}},[[252,1,2]]]);
//# sourceMappingURL=main.3d18479f.chunk.js.map